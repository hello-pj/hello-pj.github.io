<!DOCTYPE html>
<html lang="ja">

<head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9301479849999305" crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- キャッシュ制御 - 最も重要な部分 -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">

    <!-- SEO向上のためのタイトルタグ改善 -->
    <title>ハロプロイベントカレンダー</title>

    <!-- 追加メタタグ -->
    <meta name="keywords" content="ハロプロ,Hello! Project,ハロープロジェクト,モーニング娘。,アンジュルム,イベント,ライブ,カレンダー,2025年,コンサート,リリースイベント">
    <meta name="author" content="Hello! Project Fan Calendar">
    <meta property="og:title" content="ハロプロイベントカレンダー | ライブ情報まとめ">
    <meta property="og:description" content="ハロー！プロジェクトの最新イベントカレンダー。全グループのコンサート日程、イベント情報を網羅。">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://hello-pj.github.io/calendar">
    <meta property="og:image" content="https://hello-pj.github.io/img/calendar_preview.jpg">
    <meta property="og:site_name" content="H!P カレンダー">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="ハロプロイベントカレンダー">
    <meta name="twitter:description" content="ハロー！プロジェクトの最新イベントカレンダー。全グループのコンサート日程、イベント情報を網羅。">
    <meta name="twitter:image" content="https://hello-pj.github.io/img/calendar_preview.jpg">

    <!-- PWA関連追加 -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#0073e6">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="H!P カレンダー">
    <link rel="apple-touch-icon" href="/icons/icon-152x152.png">
    <!-- メタディスクリプションの改善 -->
    <meta name="description" content="ハロー！プロジェクトの最新イベントカレンダー。モーニング娘。'25、アンジュルム、Juice=Juice、つばきファクトリーなど全グループのコンサート日程、リリースイベント情報を網羅。グループ別にフィルタリングも可能。">

    <!-- キャノニカルURL -->
    <link rel="canonical" href="https://hello-pj.github.io/calendar">

    <!-- 日付ベースのキャッシュバスト用変数 -->
    <script>
        // 日付ベースのキャッシュバスト用変数をページに追加
        window.cacheBuster = '?v=' + new Date().toISOString().slice(0, 10);
    </script>

    <!-- CSS読み込み - キャッシュバスター追加 -->
    <script>
        document.write('<link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/main.min.css" rel="stylesheet">');
        document.write('<link rel="stylesheet" href="common.css' + window.cacheBuster + '">');
        document.write('<link rel="stylesheet" href="calendar.css' + window.cacheBuster + '">');
    </script>
</head>

<body>
    <div id="header">
        <a href="index.html" style="color: white; text-decoration: none;">HELLO!PROJECTイベントカレンダー</a>
    </div>
    <div id="overlay"></div>
    <div id="group-filters"></div>
    <div id="container">
        <div id="calendar-container">
            <div id="calendar"></div>
        </div>
        <!-- イベント詳細パネル部分 -->
        <div id="event-details">
            <div id="close-details"></div>
            <img id="event-image" src="img/default_image.jpg" alt="Event Image">
            <h2>イベント詳細</h2>
            <p><strong>タイトル:</strong> <span id="event-title"></span></p>
            <p><strong>日付:</strong> <span id="event-date"></span></p>
            <p><strong>場所:</strong> <span id="event-location"></span></p>
            <p><strong>説明:</strong> <span id="event-description"></span></p>
            <p><strong>グループ:</strong> <span id="event-group"></span></p>
        </div>
    </div>

    <!-- イベントリスト表示用のコンテナを追加 -->
    <div id="event-list-container">
        <div id="close-event-list"></div>
        <h2 id="event-list-date">イベント一覧</h2>
        <div id="event-list"></div>
    </div>

    <!-- PWAでオフライン時のメッセージを表示するコンテナ -->
    <div id="offline-message">
        現在オフラインモードです。一部の機能が制限されています。
    </div>

    <!-- A8.net広告バナー（固定表示） -->
    <div id="ad-container">
        <!-- PC用バナー (468x60) -->
        <div class="ad-banner ad-pc">
            <a href="https://px.a8.net/svt/ejp?a8mat=450UJF+4M3YK2+3HXW+NV9N5" rel="nofollow">
                <img border="0" width="468" height="60" alt="" src="https://www29.a8.net/svt/bgt?aid=250302363279&wid=001&eno=01&mid=s00000016322004009000&mc=1"></a>
            <img border="0" width="1" height="1" src="https://www19.a8.net/0.gif?a8mat=450UJF+4M3YK2+3HXW+NV9N5" alt="">
        </div>

        <!-- モバイル用バナー (320x50) -->
        <div class="ad-banner ad-mobile">
            <a href="https://px.a8.net/svt/ejp?a8mat=450UJF+4M3YK2+3HXW+NUMHT" rel="nofollow">
                <img border="0" width="320" height="50" alt="" src="https://www29.a8.net/svt/bgt?aid=250302363279&wid=001&eno=01&mid=s00000016322004006000&mc=1"></a>
            <img border="0" width="1" height="1" src="https://www11.a8.net/0.gif?a8mat=450UJF+4M3YK2+3HXW+NUMHT" alt="">
        </div>
    </div>

    <!-- スクリプト読み込み - キャッシュバスター追加 -->
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/main.min.js"></script>
    <script>
        document.write('<script src="js/calendar-data.js' + window.cacheBuster + '"><\/script>');
        document.write('<script src="js/calendar-ui.js' + window.cacheBuster + '"><\/script>');
        document.write('<script src="js/calendar-main.js' + window.cacheBuster + '"><\/script>');
        document.write('<script src="/pwa-register.js' + window.cacheBuster + '"><\/script>');
        document.write('<script src="/install-banner.js' + window.cacheBuster + '"><\/script>');
    </script>

    <!-- オフライン状態を検知するスクリプト -->
    <script>
        // オンライン/オフライン状態を検知
        function updateOnlineStatus() {
            var offlineMessage = document.getElementById('offline-message');
            if (navigator.onLine) {
                offlineMessage.style.display = 'none';
            } else {
                offlineMessage.style.display = 'block';
            }
        }

        window.addEventListener('online', updateOnlineStatus);
        window.addEventListener('offline', updateOnlineStatus);

        // 初期チェック
        document.addEventListener('DOMContentLoaded', updateOnlineStatus);
    </script>
</body>

</html>